---
title: "Lesson 1: Overview"
output: 
  learnr::tutorial:
    progressive: true
    allow_skip: false
    css: css/style.css
    toc: true
    toc_depth: 3
    includes:
      in_header: html/banner-lesson1.html
runtime: shiny_prerendered
#favicon: "images/favicon.ico" #directly from html
---

```{r setup, include=FALSE}
library(learnr)
library(gradethis)

knitr::opts_chunk$set(echo = FALSE)

tutorial_options(
  exercise.timelimit = 40,
  exercise.checker = gradethis::grade_learnr#,
  #exercise.startover = FALSE,
  #exercise.error.check.code = gradethis::grade_code
  )

path_proj <- dirname(dirname(dirname(getwd())))
path_data <- file.path(path_proj, "data/louland")

source(file.path(path_proj, "R/00-libs.R"     ), local = TRUE)
source(file.path(path_proj, "R/01-read-data.R"), local = TRUE)
source(file.path(path_proj, "R/00-libs.R"     ), local = TRUE)

```



## Welcome! {#welcome}

<txt-green>Welcome to the first lesson</txt-green> of the **National Forest Inventory eLearning practice module**.

### Intro {#intro}

<img src="images/newland.gif" width="250" height="250" alt="eNFI lesson 1 image cover" align="right" />

This interactive module is designed to complement the [NFI eLearning modules](https://bit.ly/3m5VEsE) with practical hands-on exercises. These exercises take place on a fictional island that just emerged in the middle of the Atlantic Ocean: `Louland`. 

It features interactive lessons designed to practice National Forest Inventory (NFI) sampling and the exploratory analysis of NFI field data with the [R programming language](www.r-project.com). Although this fictional land is not an official country, we will use the acronym NFI when referring to its forest inventory as the method and formulas applied here are valid for nationwide forest inventories.



### A new land has emerged {#newland}

An island previously unknown to humankind has just been discovered and you are part of a team of scientists commissioned to inventory its forest resources, mainly its carbon stock.

```{r makeland, echo=F}

## fixed profile - more profiles to be implemented in V2.0
newland_name <- "Louland"

sf_lc     <- sf_lc1
sf_admin  <- sf_adm1
sf_topo   <- sf_topo1
pal       <- palette1
``` 

::::::{.infobox data-latex=""}

In a future version of this interactive training module, you will be able to choose different land profiles with different (1) forest categories, (2) ratio of ocean covering the 90 x 90 km square frame in which the new land is created, (3) inclusion or exclusion of mangrove forests and even (4) the maximum altitude of ```r newland_name``` (it will have an impact on inaccessible plots)!

For now, ```r newland_name``` forests are divided into ```r nb_ft + 1``` categories: Evergreen forest, Mixed-Deciduous forest, Deciduous forest, Other Woodland and Mangrove Forest, also all the island is considered accessible.

::::::


Here is what ```r newland_name``` looks like.


```{r showland2, results='asis', fig.cap="Overview of the new land."}

cat(paste0('
<center>
<video width="800" height="600" autoplay loop>
  <source src="images/newland.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>
</center>
    '))

```


The remote sensing team has developed land cover and topographic maps based on 30m resolution remote sensing images and initial forest plot measurements taken by the first exploration crew. Based on their observations, we will be able to have a general understanding of ```r newland_name```'s forest cover. This data is called **auxiliary data**, it is not NFI data *per se*, but useful information to help design and implement an NFI.

In the next section, we will have a quick look at the exploration crew's forest inventory data, loaded in R as objects with the `exfi` prefix, and we will use the land cover maps to calculate the area of the main land cover types.

\  

<br>

---

<br>

## Topic 1

### Exercise 

*Here's a simple exercise with an empty code chunk provided for entering the answer.*

Write the R code required to add two plus two:

```{r two-plus-two, exercise=TRUE}
1+1
```

### Exercise with Code

*Here's an exercise with some prepopulated code as well as `exercise.lines = 5` to provide a bit more initial room to work.*

Now write a function that adds any two numbers and then call it:

```{r add-function, exercise=TRUE, exercise.lines = 5}
add <- function() {
  
}
```

## Topic 2

### Exercise with Hint

*Here's an exercise where the chunk is pre-evaulated via the `exercise.eval` option (so the user can see the default output we'd like them to customize). We also add a "hint" to the correct solution via the chunk immediate below labeled `print-limit-hint`.*

Modify the following code to limit the number of rows printed to 5:

```{r print-limit, exercise=TRUE, exercise.eval=TRUE}
mtcars
```

```{r print-limit-hint}
head(mtcars)
```

### Quiz

*You can include any number of single or multiple choice questions as a quiz. Use the `question` function to define a question and the `quiz` function for grouping multiple questions together.*

Some questions to verify that you understand the purposes of various base and recommended R packages:

```{r quiz}
quiz(
  question("Which package contains functions for installing other R packages?",
    answer("base"),
    answer("tools"),
    answer("utils", correct = TRUE),
    answer("codetools")
  ),
  question("Which of the R packages listed below are used to create plots?",
    answer("lattice", correct = TRUE),
    answer("tools"),
    answer("stats"),
    answer("grid", correct = TRUE)
  )
)
```
